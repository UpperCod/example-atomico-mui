const e=e=>"function"==typeof e,t=e=>"object"==typeof e;class n{constructor(e,t,n){this.message=t,this.target=e,this.value=n}}const r={true:1,"":1,1:1};function s(r,s,a,c,p){let{type:h,reflect:d,event:f,value:y,attr:m=o(s)}=t(a)&&null!=a?a:{type:a},b=!(h==Function||null==h);Object.defineProperty(r,s,{configurable:!0,set(t){let r=this[s],{error:o,value:a}=u(h,b&&e(t)?t(r):t);if(o&&null!=a)throw new n(this,`The value defined for prop '${s}' must be of type '${h.name}'`,a);r!=a&&(this.update({[s]:a}),f&&l(this,f),this.updated.then((()=>{d&&(this._ignoreAttr=m,i(this,h,m,this[s]),this._ignoreAttr=null)})))},get(){return this._props[s]}}),null!=y&&(p[s]=y),c[m]={prop:s,type:h}}const l=(e,{type:t,base:n=CustomEvent,...r})=>e.dispatchEvent(new n(t,r)),o=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),i=(e,n,r,s)=>null==s||n==Boolean&&!s?e.removeAttribute(r):e.setAttribute(r,t(s)?JSON.stringify(s):n==Boolean?"":s),u=(e,t)=>null==e?{value:t}:e!=String&&""===t?{value:null}:{}.toString.call(t)==`[object ${e.name}]`?{value:t,error:e==Number&&Number.isNaN(t)}:{value:t,error:!0};const a={id:1,className:1,checked:1,value:1,selected:1},c={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1},p={shadowDom:1,renderOnce:1,children:1,key:1},h={},d=[],f=document;class y extends Text{get nodeType(){return-1}}const m=Symbol(),b=Symbol();function g(e,t,n=b,r,s){let l;if(t&&t[n]&&t[n].vnode==e||e.$$!=m)return t;if((e||!t)&&(s=s||"svg"==e.type,l=!("host"==e.type||(1==e.raw?t==e.type:2==e.raw?t instanceof e.type:t?t.localName==e.type:t)),l)){if(e.ref)return e.ref.cloneNode(!0);null!=e.type&&(e.ref=t=1==e.raw?e.type:2==e.raw?new e.type:s?f.createElementNS("http://www.w3.org/2000/svg",e.type):f.createElement(e.type,e.is?{is:e.is}:void 0))}let{vnode:o=h,cycle:i=0,fragment:u,handlers:a}=t[n]?t[n]:h,{children:c=d,props:p=h}=o;if(a=l?{}:a||{},e.once&&!l)return t;if(e.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open"}),e.props!=p&&function(e,t,n,r,s){for(let l in t)l in n||v(e,l,t[l],null,s,r);for(let l in n)v(e,l,t[l],n[l],s,r)}(t,p,e.props,a,s),e.children!==c){let l=e.shadow?t.shadowRoot:t;u=function(e,t,n,r,s,l){e=null==e?null:Array.isArray(e)?e:[e];let o,i=t||function(e,t){const n=new y(""),r=new y("");return e[t?"prepend":"append"](n),e.append(r),{s:n,e:r}}(n,s),{s:u,e:a,k:c}=i,p=c&&new Set,h=u;function d(e){let{length:t}=e;for(let i=0;i<t;i++){let t=e[i],u=typeof t;if(null==t||"boolean"==u||"function"==u)continue;if(Array.isArray(t)){d(t);continue}if("object"==u&&t.$$!=m)continue;let f=t.$$&&t.key,y=c&&null!=f&&c.get(f);h!=a&&h===y?p.delete(h):h=h==a?a:h.nextSibling;let b=c?y:h,v=b;if(t.$$)v=g(t,b,r,s,l);else{let e=t+"";3!=v.nodeType?v=new Text(e):v.data!=e&&(v.data=e)}v!=h&&(c&&p.delete(v),!b||c?(n.insertBefore(v,h),c&&h!=a&&p.add(h)):b==a?n.insertBefore(v,a):(n.replaceChild(v,b),h=v)),null!=f&&(o=o||new Map,o.set(f,v))}}if(e&&d(e),h=h==a?a:h.nextSibling,t&&h!=a)for(;h!=a;){let e=h;h=h.nextSibling,e.remove()}return p&&p.forEach((e=>e.remove())),i.k=o,i}(e.children,u,l,n,!i&&r,(!s||"foreignObject"!=e.type)&&s)}return i++,t[n]={vnode:e,handlers:a,fragment:u,cycle:i},t}function v(n,r,s,l,o,i){if(s=null==s?null:s,l=null==l?null:l,(r="class"!=r||o?r:"className")in n&&a[r]&&(s=n[r]),l!==s&&!p[r]&&"_"!=r[0])if("o"==r[0]&&"n"==r[1]&&(e(l)||e(s)))!function(e,t,n,r){r.handleEvent||(r.handleEvent=t=>r[t.type].call(e,t));n?(r[t]||e.addEventListener(t,r),r[t]=n):r[t]&&(e.removeEventListener(t,r),delete r[t])}(n,r.slice(2),l,i);else if("ref"==r)l&&(l.current=n);else if("style"==r){let e=n.style;l=l||"";let r=t(s=s||""),o=t(l);if(r)for(let t in s){if(!o)break;t in l||w(e,t,null)}if(o)for(let t in l){let n=l[t];r&&s[t]===n||w(e,t,n)}else e.cssText=l}else!o&&!c[r]&&r in n||e(l)||e(s)?n[r]=null==l?"":l:null==l?n.removeAttribute(r):n.setAttribute(r,t(l)?JSON.stringify(l):l)}function w(e,t,n){let r="setProperty";null==n&&(r="removeProperty",n=null),~t.indexOf("-")?e[r](t,n):e[t]=n}const S=!!document.adoptedStyleSheets,k=null;function C(e,t=HTMLElement){let n={},l={},{props:o,styles:i}=e;return class extends t{constructor(){super(),this._setup(),this._render=()=>e({...this._props});for(let e in l)this[e]=l[e]}static get styles(){return[].concat(super.styles||[],i||[])}async _setup(){if(this._props)return;this._props={},this.mounted=new Promise((e=>this.mount=e)),this.unmounted=new Promise((e=>this.unmount=e)),this.symbolId=this.symbolId||Symbol();let e,t=function(e,t){let n={};function r(e,t){for(let r in n){let s=n[r];s[e]&&(s[0]=s[e](s[0],t))}}return{load:function(e){let t;try{t=e()}finally{}return t},cleanEffects:function(e){return r(1,e),()=>{r(2,e),e&&(n={})}}}}(),n=!0,r="hydrate"in this.dataset;this.update=s=>{if(e||(e=!0,this.updated=(this.updated||this.mounted).then((()=>{try{return g(t.load(this._render),this,this.symbolId,n&&r),e=!1,n&&(n=!1,function(e){let{styles:t}=e.constructor,{shadowRoot:n}=e;n&&t.length&&(t=[...new Set(t)],S?n.adoptedStyleSheets=[...t]:t.map((e=>n.appendChild(e.cloneNode(!0)))))}(this)),!k&&t.cleanEffects()}finally{e=!1}})).then((e=>{e&&e()}))),s)for(let e in s)this._props[e]=s[e];return this.updated},this.update(),await this.unmounted,t.cleanEffects(!0)()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}async disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),await this.mounted,!this.isConnected&&this.unmount()}attributeChangedCallback(e,t,s){if(n[e]){if(e===this._ignoreAttr||t===s)return;let{prop:l,type:o}=n[e];this[l]=((e,t)=>e==Boolean?!!r[t]:e==Number?Number(t):e==Array||e==Object?JSON.parse(t):t)(o,s)}else super.attributeChangedCallback(e,t,s)}static get observedAttributes(){let e=super.observedAttributes||[];for(let t in o)s(this.prototype,t,o[t],n,l);return Object.keys(n).concat(e)}}}const N={};function A(e,...t){let n=e.reduce(((e,n,r)=>e+n+(t[r]||"")),"");return N[n]=N[n]||function(e){if(S){let t=new CSSStyleSheet;return t.replaceSync(e),t}{let t=f.createElement("style");return t.textContent=e,t}}(n)}var E=function(e,t,n,r){var s;t[0]=0;for(var l=1;l<t.length;l++){var o=t[l++],i=t[l]?(t[0]|=o?1:2,n[t[l++]]):t[++l];3===o?r[0]=i:4===o?r[1]=Object.assign(r[1]||{},i):5===o?(r[1]=r[1]||{})[t[++l]]=i:6===o?r[1][t[++l]]+=i+"":o?(s=e.apply(i,E(e,i,n,["",null])),r.push(s),i[0]?t[0]|=2:(t[l-2]=0,t[l]=s)):r.push(i)}return r},$=new Map;const _=function(e){var t=$.get(this);return t||(t=new Map,$.set(this,t)),(t=E(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,r=1,s="",l="",o=[0],i=function(e){1===r&&(e||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(0,e,s):3===r&&(e||s)?(o.push(3,e,s),r=2):2===r&&"..."===s&&e?o.push(4,e,0):2===r&&s&&!e?o.push(5,0,!0,s):r>=5&&((s||!e&&5===r)&&(o.push(r,0,s,n),r=6),e&&(o.push(r,e,0,n),r=6)),s=""},u=0;u<e.length;u++){u&&(1===r&&i(),i(u));for(var a=0;a<e[u].length;a++)t=e[u][a],1===r?"<"===t?(i(),o=[o],r=3):s+=t:4===r?"--"===s&&">"===t?(r=1,s=""):s=t+s[0]:l?t===l?l="":s+=t:'"'===t||"'"===t?l=t:">"===t?(i(),r=1):r&&("="===t?(r=5,n=s,s=""):"/"===t&&(r<5||">"===e[u][a+1])?(i(),3===r&&(o=o[0]),r=o,(o=o[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(i(),r=2):s+=t),3===r&&"!--"===s&&(r=4,o=o[0])}return i(),o}(e)),t),arguments,[])).length>1?t:t[0]}.bind((function(e,t,...n){let r=t||h,{children:s}=r;s=null!=s?s:n.length?n:d;const l=!!e&&(e instanceof Node?1:e.prototype instanceof HTMLElement&&2);return{$$:m,type:e,props:r,children:s,key:r.key,shadow:r.shadowDom,once:r.renderOnce,raw:l,is:r.is}}));export{C as a,A as c,_ as h};
